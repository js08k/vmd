@startuml

!include mediacontext.cpp
!include mediasender.cpp
!include mediareceiver.cpp
!include dvdcontext.cpp
!include mpegcontext.cpp
!include networkcontext.cpp

note right of MediaContext : \
There may be a conflict with\n \
pauseStream/playStream when\n \
a NetworkContext plays and a \n \
DvDContext calls pause on the\n \
same source stream.

interface StreamInterface {
+{abstract}pause()
+{abstract}resume()
+{abstract}title() : string
}

StreamInterface <|-- DvDInterface
interface DvDInterface {
+{abstract}menu()
+{abstract}highlight(MenuButton)
+{abstract}activate(MenuButton)
}

StreamInterface <|-- MPEGContext
DvDInterface <|-- NetworkContext
DvDInterface <|-- DvDContext

enum Action {
    ActionAppend
    ActionFlush
    ActionDecryptAppend
    ActionDecryptFlush
}

enum StreamControl {
    SendInfo
    PauseStream
    ResumeStream
    PausePlayback
    ResumePlayback
}

enum MediaState {
    MediaNotAvailable
    MediaLoading
    MediaIdle
    MediaReading
}



@enduml
